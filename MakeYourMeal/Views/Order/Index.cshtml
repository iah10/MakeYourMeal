@model IEnumerable<MakeYourMeal.Data.Models.Order>

@{
	ViewBag.Title = "Orders";
}

<h2>Orders</h2>
<table class="table table-hover">
	<thead>
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.TableNumber)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.OrderedAt)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.TotalCost)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.State)
			</th>
			<th></th>
		</tr>
	</thead>
	<tbody data-bind="foreach: Orders">
		<tr>
			<td data-bind="text: TableNumber"></td>
			<td data-bind="text: OrderTime"></td>
			<td data-bind="text: TotalCost"></td>
			<td data-bind="text: State"></td>
			<td>
				<a data-bind="attr: {'href':  '@Url.Action("OrderDetails", "Order")/' + OrderId}, text: 'Details'"></a>|
				<a data-bind="attr: {'href':  '@Url.Action("OrderReady", "Order")/' + OrderId}, text: 'Ready'"></a>
			</td>
		</tr>
	</tbody>
</table>

@section scripts
{
	<script src="~/Scripts/jquery.signalR-2.2.0.js"></script>
	<script type="text/javascript" src="~/signalr/hubs"></script>
	<script src="~/Scripts/knockout-3.3.0.js"></script>
	<script src="~/Scripts/toastr.min.js"></script>
	<script src="~/Scripts/OrderAdmin.js"></script>
}